GQA: A New Dataset for Real-World Visual Reasoning

and Compositional Question Answering

visualreasoning.net

Drew A. Hudson

Stanford University

Christopher D. Manning

Stanford University

353 Serra Mall, Stanford, CA 94305

353 Serra Mall, Stanford, CA 94305

dorarad@cs.stanford.edu

manning@cs.stanford.edu

Abstract

We introduce GQA, a new dataset for real-world visual
reasoning and compositional question answering, seeking
to address key shortcomings of previous VQA datasets. We
have developed a strong and robust question engine that
leverages Visual Genome scene graph structures to create
22M diverse reasoning questions, which all come with func-
tional programs that represent their semantics. We use the
programs to gain tight control over the answer distribution
and present a new tunable smoothing technique to mitigate
question biases. Accompanying the dataset is a suite of new
metrics that evaluate essential qualities such as consistency,
grounding and plausibility. A careful analysis is performed
for baselines as well as state-of-the-art models, providing
ﬁne-grained results for different question types and topolo-
gies. Whereas a blind LSTM obtains a mere 42.1%, and
strong VQA models achieve 54.1%, human performance
tops at 89.3%, offering ample opportunity for new research
to explore. We hope GQA will provide an enabling resource
for the next generation of models with enhanced robustness,
improved consistency, and deeper semantic understanding
of vision and language.

1. Introduction

It takes more than a smart guess to answer a good ques-
tion. The ability to assimilate knowledge and use it to draw
inferences is among the holy grails of artiﬁcial intelligence.
A tangible form of this goal is embodied in the task of Vi-
sual Question Answering (VQA), where a system has to an-
swer free-form questions by reasoning about presented im-
ages. The task demands a rich set of abilities as varied as
object recognition, commonsense understanding and rela-
tion extraction, spanning both the visual and linguistic do-
mains. In recent years, it has sparked substantial interest
throughout the research community, becoming extremely

Figure 1: Examples from the new GQA dataset for visual reason-
ing and compositional question answering:
Is the bowl to the right of the green apple?
What type of fruit in the image is round?
What color is the fruit on the right side, red or green?
Is there any milk in the bowl to the left of the apple?

popular across the board, with a host of datasets being con-
structed [3, 9, 13, 36, 17] and numerous models being pro-
posed [4, 33, 5, 8, 10].

The multi-modal nature of the task and the diversity of
skills required to address different questions make VQA
particularly challenging. Yet, designing a good test that will
reﬂect its full qualities and complications may not be that
trivial. Despite the great strides that the ﬁeld recently made,
it has been established through a series of studies that exist-
ing benchmarks suffer from critical vulnerabilities that ren-
der them highly unreliable in measuring the actual degree
of visual understanding capacities [34, 9, 1, 7, 2, 11, 16].

Most notable among the ﬂaws of current benchmarks
is the strong and prevalent real-world priors displayed
throughout the data [34, 9, 2] – most tomatoes are red and
most tables are wooden. These in turn are exploited by

6700

VQA models, which become heavily reliant upon such sta-
tistical biases and tendencies within the answer distribution
to largely circumvent the need for true visual scene under-
standing [1, 9, 13, 7]. This situation is exacerbated by the
simplicity of many of the questions, from both linguistic
and semantic perspectives, which in practice rarely require
much beyond object recognition [28]. Consequently, early
benchmarks led to an inﬂated sense of the state of scene
understanding, severely diminishing their credibility [32].
Aside from that, the lack of annotations regarding ques-
tion structure and content leaves it difﬁcult to understand
the factors affecting models’ behavior and performance and
to identify the root causes behind their mistakes.

To address these shortcomings, while retaining the vi-
sual and semantic richness of real-world images, we intro-
duce GQA, a new dataset for visual reasoning and compo-
sitional question answering. We have developed and care-
fully reﬁned a robust question engine, leveraging content:
information about objects, attributes and relations provided
through Visual Genome Scene Graphs [17], along with
structure: a newly-created extensive linguistic grammar
which couples hundreds of structural patterns and detailed
lexical semantic resources. Together, they are combined in
our engine to generate over 22 million novel and diverse
questions, which all come with structured representations
in the form of functional programs that specify their con-
tents and semantics, and are visually grounded in the image
scene graphs.

GQA questions involve varied reasoning skills, and
multi-step inference in particular. We further use the as-
sociated semantic representations to greatly reduce biases
within the dataset and control for its question type compo-
sition, downsampling it to create a 1.7M balanced dataset.
Contrary to VQA 2.0, here we balance not only binary ques-
tions, but also open ones, by applying a tunable smoothing
technique that makes the answer distribution for each ques-
tion group more uniform. Just like a well-designed exam,
our benchmark makes the educated guesses strategy far less
rewarding, and demands instead more reﬁned comprehen-
sion of both the visual and linguistic contents.

Along with the dataset, we have designed a suite of new
metrics, which include consistency, validity, plausibility,
grounding and distribution scores, to complement the stan-
dard accuracy measure commonly used in assessing meth-
ods’ performance. Indeed, studies have shown that the ac-
curacy metric alone does not account for a range of anoma-
lous behaviors that models demonstrate, such as ignoring
key question words or attending to irrelevant image regions
[1, 7]. Other works have argued for the need to devise new
evaluation measures and techniques to shed more light on
systems’ inner workings [16, 29, 30, 15]. In fact, beyond
providing new metrics, GQA can even directly support the
development of more interpretable models, as it provides

a sentence-long explanation that corroborates each answer,
and further associates each word from both the questions
and the responses with a visual pointer to the relevant re-
gion in the image, similar in nature to datasets by Zhu et al.
[36], Park et al. [26], and Li et al. [19]. These in turn can
serve as a strong supervision signal to train models with en-
hanced transparency and accessibility.

GQA combines the best of both worlds, having clearly
deﬁned and crisp semantic representations on the one hand
but enjoying the semantic and visual richness of real-world
images on the other. Our three main contributions are
(1) the GQA dataset as a resource for studying visual rea-
soning; (2) development of an effective method for generat-
ing a large number of semantically varied questions, which
marries scene graph representations with computational lin-
guistic methods; (3) new metrics for GQA, that allow for
better assessment of system success and failure modes, as
demonstrated through a comprehensive performance analy-
sis of existing models on this task. We hope that the GQA
dataset will provide fertile ground for the development of
novel methods that push the boundaries of question answer-
ing and visual reasoning.

2. Related Work

Recent years have witnessed tremendous progress in vi-
sual understanding. Multiple attempts have been made to
mitigate the systematic biases of VQA datasets as discussed
in section 1 [9, 34, 2, 13], but they fall short in providing
an adequate solution: Some approaches operate over con-
strained and synthetic images [34, 13], neglecting the real-
ism and diversity natural photos provide. Meanwhile, Goyal
et al. [9] associate most of the questions in VQA1.0 with
a pair of similar pictures that result in different answers.
While offering partial relief, this technique fails to address
open questions, leaving their answer distribution largely un-
balanced. In fact, since the method does not cover 29% of
the questions due to limitations of the annotation process,
even within the binary ones biases still remain.1

At the other extreme, Agrawal et al. [2] partition the
questions into training and validation sets such that their re-
spective answer distributions become intentionally dissim-
ilar. While undoubtedly challenging, these adversarial set-
tings penalize models, maybe unjustly, for learning salient
properties of the training data. In the absence of other in-
formation, making an educated guess is a legitimate choice
– a valid and beneﬁcial strategy pursued by machines and
people alike [24, 6, 23]. What we essentially need is a bal-
anced test that is more resilient to such gaming strategies,
as we strive to achieve with GQA.

1For VQA1.0, blind models achieve 50% in accuracy without even con-
sidering the images whatsoever [3]. Similarly, for VQA2.0, 67% and 27%
of the binary and open questions respectively are answered correctly by
such models [9].

6701

Figure 2: Overview of the GQA construction process. Given an image annotated with a scene graph of its objects, attributes and relations,
we produce compositional questions by traversing the graph. Each question has both a standard natural-language form and a functional
program representing its semantics. Please refer to section 3 for further detail.

In creating GQA, we drew inspiration from the CLEVR
task [13], which consists of compositional questions over
synthetic images. However, its artiﬁcial nature and low di-
versity, with only a handful of object classes and properties,
makes it particularly vulnerable to memorization of all com-
binations, thereby reducing its effective degree of composi-
tionality. Conversely, GQA operates over real images and
a large semantic space, making it much more challenging.
Even though our questions are not natural as in other VQA
datasets [9, 36], they display a rich vocabulary and diverse
linguistic and grammatical structures. They may serve in
fact as a cleaner benchmark to asses models in a more con-
trolled and comprehensive fashion, as discussed below.

The task of question generation has been explored in
earlier work, mostly for the purpose of data augmentation.
Contrary to GQA, those datasets are either small in scale
[22] or use only a restricted set of objects and a handful of
non-compositional templates [15, 21]. Neural alternatives
to visual question generation have been recently proposed
[25, 12, 35], but they aim at a quite different goal of creat-
ing engaging but potentially inaccurate questions about the
wider context of the image such as subjective evoked feel-
ings or speculative events that may lead to or result from the
depicted scenes [25].

3. The GQA Dataset

The GQA dataset centers around real-world reasoning,
scene understanding and compositional question answering.
It consists of 113K images and 22M questions of assorted
types and varying compositionality degrees, measuring per-
formance on an array of reasoning skills such as object and
attribute recognition, transitive relation tracking, spatial rea-

soning, logical inference and comparisons. Figure 2 pro-
vides a brief overview of the GQA components and gener-
ation process, and ﬁgure 3 presents multiple instances from
the dataset. The dataset along with further information are
available at visualreasoning.net.

The images, questions and corresponding answers are all
accompanied by matching semantic representations: Each
image is annotated with a dense Scene Graph [14, 17],
representing the objects, attributes and relations it contains.
Each question is associated with a functional program
which lists the series of reasoning steps needed to be per-
formed to arrive at the answer. Each answer is augmented
with both textual and visual justiﬁcations, pointing to the
relevant region within the image.

The structured representations and detailed annotations
for images and questions offer multiple advantages. They
enable tight control over the answer distribution, which
allows us to create a balanced set of challenging ques-
tions, and support the formulation of a suite of new metrics
that aim to provide deeper insight into models’ behavior.
They facilitate performance assessment along various axes
of question type and topology, and may open the door for
the development of novel methods with more grounded and
transparent knowledge representation and reasoning.

We proceed by describing the GQA question engine and
the four-step dataset construction pipeline: First, we thor-
oughly clean, normalize, consolidate and augment the Vi-
sual Genome scene graphs [17] linked to each image. Then,
we traverse the objects and relations within the graphs, and
marry them with grammatical patterns gleaned from VQA
2.0 [9] and sundry probabilistic grammar rules to produce a
semantically-rich and diverse set of questions. In the third
stage, we use the underlying semantic forms to reduce bi-

6702

ases in the conditional answer distribution, resulting in a
balanced dataset that is more robust against shortcuts and
guesses. Finally, we discuss the question functional repre-
sentation, and explain how we use it to compute entailment
between questions, supporting new evaluation metrics.

3.1. Scene Graph Normalization

Our starting point in creating the GQA dataset is the Vi-
sual Genome Scene Graph annotations [17] that cover 113k
images from COCO [20] and Flickr [31].2 The scene graph
serves as a formalized representation of the image: each
node denotes an object, a visual entity within the image,
like a person, an apple, grass or clouds. It is linked to a
bounding box specifying its position and size, and is marked
up with about 1–3 attributes, properties of the object: e.g.,
its color, shape, material or activity. The objects are con-
nected by relation edges, representing actions (verbs), spa-
tial relations (prepositions), and comparatives.

The scene graphs are annotated with free-form natural
language. In order to use them for question generation we
ﬁrst have to normalize the graphs and their vocabulary. We
provide here a brief overview of the normalization process,
and present a more detailed description in the supplemen-
tary. First, we create a clean, consolidated and unambiguous
ontology over the graph with 2690 classes including various
objects, attributes and relations. We further augment it with
semantic and linguistic information which will aid us in cre-
ating grammatical questions. Then, we prune inaccurate or
unnatural edges, using combination of object detection con-
ﬁdences, n-gram frequencies, co-occurrence statistics, word
embedding distances, category-based rules, and manual cu-
ration. Finally, we enrich the graph with positional informa-
tion (absolute and relative) as well as semantic properties
(location, weather). By the end of this stage, the resulting
scene graphs have clean, uniﬁed, rich and unambiguous se-
mantics for both the nodes and the edges.

3.2. The Question Engine

At the heart of our pipeline is the question engine, re-
sponsible for producing diverse, relevant and grammatical
questions with varying degrees of compositionality. The
generation process harnesses two resources: one is the
scene graphs which fuel the engine with rich content – infor-
mation about objects, attributes and relationships; the other
is the structural patterns, a mold that shapes the content,
casting it into a question.

Our engine operates over 524 patterns, spanning 117
question groups, and 1878 answers which are based on the
scene graphs. Each group is associated with three compo-
nents: (1) a functional program that represents its seman-
tics; (2) A set of textual rephrases which express it in nat-

2We extend Visual Genome dataset with 5k hidden scene graphs col-

lected through crowdsourcing, used for the test set.

A1. Is the tray on top of the table black or light brown? light brown
A2. Are the napkin and the cup the same color? yes
A3. Is the small table both oval and wooden? yes
A4. Is there any fruit to the left of the tray the cup is on top of? yes
A5. Are there any cups to the left of the tray on top of the table? no
B1. What is the brown animal sitting inside of? box
B2. What is the large container made of? cardboard
B3. What animal is in the box? bear
B4. Is there a bag to the right of the green door? no
B5. Is there a box inside the plastic bag? no

Figure 3: Examples of questions from the GQA dataset.

ural language, e.g., “What|Which <type> [do you think]
<is> <theObject>?”; (3) A pair of short and long an-
swers: e.g., <attribute> and “The <object> <is>
<attribute>.” respectively.3

We begin from a seed set of 250 manually constructed
patterns, and extend it with 274 natural patterns derived
from VQA1.0 [3] through templatization of words from
our ontology.4 To increase the question diversity, apart
from using synonyms for objects and attributes, we incor-
porate probabilistic sections into the patterns, such as op-
tional phrases [x] and alternate expressions (x|y), which get
instantiated at random.

It is important to note that the patterns do not strictly
limit the structure or depth of each question, but only
outline their high-level form, as many of the template
ﬁelds can be populated with nested compositional refer-
ences. For instance, in the pattern above, we may replace
<theObject> with “the apple to the left of
the white refrigerator”.

To achieve that compositionality, we compute for each
object a set of candidate references, which can either be
direct, e.g. the bear, this animal, or indirect, using mod-
iﬁers, e.g. the white bear, the bear on the left, the animal
behind the tree, the bear that is wearing a coat. Direct ref-
erences are used when the uniqueness of the object can be
conﬁdently conﬁrmed by object detectors, making the cor-
responding references unambiguous. Alternatively, we use
indirect references, leading to multi-step questions as varied

3Note that the long answers can serve as textual justiﬁcations, espe-
cially for questions that require increased reasoning such as logical infer-
ence, where a question like “Is there a red apple in the picture?” may have
the answer: “No, there is an apple, but it is green”

4For instance, a question-answer pair in VQA1.0 such as “What color
is the apple? red” turns after templatization into “What <type> <is>
the <object>? <attribute>”.

6703

Figure 4: Examples of entailment relations between different
question types. Refer to section 3.3 for further detail.

as Who is looking at the animal that is wearing the red coat
in front of the window?, and thus greatly increasing the pat-
terns’ effective ﬂexibility. This is the key ingredient behind
the automatic generation of compositional questions.

Finally, we compute a set of decoys for the scene graph
elements. Indeed, some questions, such as negative ones or
those that involve logical inference, pertain to the absence
of an object or to an incorrect attribute. Examples include
Is the apple green? for a red apple, or Is the girl eating ice
cream? when she is in fact eating a cake. Given a triplet
(s, r, o), (e.g. (girl, eating, cake) we select a distractor ˆo
considering its likelihood to be in relation with s and its
plausibility to co-occur in the context of the other objects
in the depicted scene. A similar technique is applied in se-
lecting attribute decoys (e.g. a green apple). While choos-
ing distractors, we exclude from consideration candidates
that we deem too similar (e.g. pink and orange), based on a
manually deﬁned list for each concept in the ontology.

Having all resources prepared:

(1) the clean scene
graphs, (2) the structural patterns, (3) the object references
and (4) the decoys, we can proceed to generating the ques-
tions! We traverse the graph, and for each object, object-
attribute pair or subject-relation-object triplet, we produce
relevant questions by instantiating a randomly selected
question pattern, e.g. “What <type> is <theObject>,
<attribute> or <cAttribute>?”, populating all the
ﬁelds with the matching information, yielding, for example,
the question: “What (color) (is) the (apple on the table),
(red) or (green)?”. When choosing object references, we
avoid selecting those that disclose the answer or repeat in-
formation, e.g. “What color is the red apple?” or “Which
dessert sits besides the apple to the left of the cake?”. We
also avoid asking about relations that tend to have multiple
instances for the same object, e.g. asking what object is on
the table, as there may be multiple valid answers.

By the end of this stage, we obtain a diverse set of 22M
interesting, challenging and grammatical questions, pertain-
ing to each and every aspect of the image.

3.3. Functional Representation and Entailment

Each question pattern is associated with a structured rep-
resentation in the form of a functional program. For in-
stance, the question What color is the apple on the white

table? is semantically equivalent to the following program:
select: table → ﬁlter: white → relate(subject,on): apple
→ query: color. As we can see, these programs are com-
posed of atomic operations such as object selection, traver-
sal along a relation edge, or an attribute veriﬁcation, which
are then chained together to create challenging reasoning
questions.

The semantically unambiguous representations offer
multiple advantages over free-form unrestricted questions.
For one thing, they enable comprehensive assessment of
methods by dissecting their performance along different
axes of question textual and semantic lengths, type and
topology, thus facilitating the diagnosis of their success and
failure modes (section 4.2). Second, they aid us in balancing
the dataset distribution, mitigating its question-conditional
priors and guarding against educated guesses (section 3.4).
Finally, they allow us to identify entailment and equivalence
relations between different questions: knowing the answer
to the question What color is the apple? allows a coherent
learner to infer the answer to the questions Is the apple red?
Is it green? etc. The same goes especially for questions
that involve logical inference like or and and operations or
spatial reasoning, e.g. left and right.

As further discussed in section 4.4, this entailment prop-
erty can be used to measure the coherence and consistency
of the models, shedding new light on their inner work-
ings, compared to the widespread but potentially mislead-
ing accuracy metric. We deﬁne direct entailment relations
between the various functional programs and use these to
recursively compute all the questions that can be entailed
from a given source. A complete catalog of the functions,
their associated question types, and the entailment relations
between them is provided in the supplementary.

3.4. Sampling and Balancing

One of the main issues of existing VQA datasets is the
prevalent question-conditional biases that allow learners to
make educated guesses without truly understanding the pre-
sented images, as explained in section 1. However, precise
representation of the question semantics can allow tighter
control over these biases, having the potential to greatly al-
leviate the problem. We leverage this observation and use
the functional programs attached to each question to smooth
out the answer distribution.

Given a question’s functional program, we derive two la-
bels, global and local: The global label assigns the question
to its answer type, e.g. color for What color is the apple?.
The local label further considers the main subject/s of the
question, e.g. apple-color or table-material. We use these
labels to partition the questions into groups, and smooth the
answer distribution of each group within the two levels of
granularity, ﬁrst globally, and then locally.

For each group, we ﬁrst compute its answer distribution

6704

Figure 5: Visualization of the balancing process. The conditional answer distribution before (left) and after (middle) the balancing for
a selection of question groups. We show the top 10 answers, where the column height corresponds to the relative frequency of each
answer. We can see that on the left the distributions are heavily biased, while on the middle it is more uniform and with heavier tails, while
intentionally retaining the original real-world tendencies up to a tunable degree. Right: An illustration of the balancing process.

P for each group, which we then downsample (formally, us-
ing rejection-sampling) to ﬁt a smoother answer distribution
Q derived through the following procedure: We iterate over
the answers of that group in decreasing frequency order, and
reweight P ’s head up to the current iteration to make it more
comparable to the tail size. While repeating this operation
as we go through the answers, iteratively “moving” prob-
ability from the head into the tail [27], we also maintain
minimum and maximum ratios between each pair of subse-
quent answers (sorted by frequency). This ensures that the
relative frequency-based answer ranking stays the same.

The advantage of this scheme is that it retains the general
real-world tendencies, smoothing them out up to a tunable
degree to make the benchmark more challenging and less
biased. Refer to ﬁgure 5 for a visualization and to the sup-
plementary for a precise depiction of the procedure. Since
balancing is performed in two granularity levels, the ob-
tained answer distributions are made more uniform both lo-
cally and globally. Quantitatively, the entropy of the answer
distribution is increased by 72%, conﬁrming the success of
this stage.

Finally, we downsample the questions based on their
type to control the dataset type composition, and ﬁlter out
redundant questions that are too semantically similar to ex-
isting ones. We split the dataset into 70% train, 10% valida-
tion, 10% test and 10% challenge, making sure that all the
questions about a given image appear in the same split.

4. Analysis and Baseline Experiments

In the following, we provide an analysis of the GQA
dataset and evaluate the performance of baselines, state-of-
the-art models and human subjects, revealing a large gap
from the latter. To establish the diversity and realism of
GQA questions, we test transfer performance between the
GQA and VQA datasets. We then introduce the new metrics
that complement our dataset, present quantitative results

and discuss their implications and merits. In the supplemen-
tary, we perform a head-to-head comparison between GQA
and the popular VQA 2.0 dataset [9], and proceed with fur-
ther diagnosis of the current top-performing model, MAC
[10], evaluating it along multiple axes such as training-set
size, question length and compositionality degree.

4.1. Dataset Analysis and Comparison

The GQA dataset consists of 22,669,678 questions over
113,018 images, which cover wide range of reasoning skills
and vary in length and number of required inference-steps
(ﬁgure 6). The dataset has a vocabulary size of 3097 words
and 1878 possible answers. While smaller than natural lan-
guage datasets, further investigation reveals that it covers
88.8% and 70.6% of VQA questions and answers respec-
tively, corroborating its wide diversity. A wide selection of
dataset visualizations is provided in the supplementary.

We associate each question with two types: structural
and semantic. The structural type is derived from the ﬁnal
operation in the question’s functional program. It can be
(1) verify for yes/no questions, (2) query for all open ques-
tions, (3) choose for questions that present two alternatives
to choose from, e.g. “Is it red or blue?”; (4) logical which
involve logical inference, and (5) compare for comparison
questions between two or more objects. The semantic type
refers to the main subject of the question: (1) object: for
existence questions, (2) attribute: consider the properties or
position of an object, (3) category: related to object identi-
ﬁcation within some class, (4) relation: for questions ask-
ing about the subject or object of a described relation (e.g.
“what is the girl wearing?”), and (5) global: about overall
properties of the scene such as weather or place. As shown
in ﬁgure 6, the questions’ types vary at both the semantic
and structural levels.

6705

4.2. Baseline Experiments

We analyze an assortment of models as well as human
subjects on GQA. The evaluation results are shown in ta-
ble 1. Baselines include a “blind” LSTM model with ac-
cess to the questions only, a “deaf” CNN model with ac-
cess to the images only, an LSTM+CNN model, and two
prior models based on the question group, local or global,
which return the most common answer for each group, as
deﬁned in section 3.3. We can see that they all achieve low
results of 17.82%–41.07%. For the LSTM model, inspec-
tion of speciﬁc question types reveals that it achieves only
22.7% for open query questions, and not far above chance
for binary question types. We also evaluate the performance
of the bottom-up attention model [4] – the winner of the
2017 VQA challenge, and the MAC model [10] – a state-
of-the-art compositional attention model for CLEVR [13].
While surpassing the baselines, they still perform well be-
low human scores5, offering ample opportunity for further
research in the visual reasoning domain.

4.3. Transfer Performance

We tested the transfer performance between the GQA
and VQA datasets, training on one and testing on the other:
A MAC model trained on GQA achieves 52.1% on VQA
before ﬁne-tuning and 60.5% afterwards. Compare these
with 51.6% for LSTM+CNN and 68.3% for MAC, when
both are trained and tested on VQA. These quite good re-
sults demonstrate the realism and diversity of GQA ques-
tions, showing that the dataset can serve as a good proxy for
human-like questions. In contrast, MAC trained on VQA
gets 39.8% on GQA before ﬁne-tuning and 46.5% after-
wards, illustrating the further challenge GQA poses.

4.4. New Evaluation Metrics

Apart from the standard accuracy metric and the more
detailed type-based diagnosis our dataset supports, we in-
troduce ﬁve new metrics to get further insight into visual
reasoning methods and point to missing capabilities we be-
lieve coherent reasoning models should possess.

Consistency. This metric measures responses consis-
tency across different questions. Recall that in section 3.3,
we used the questions’ semantic representation to derive
equivalence and entailment relations between them. When
being presented with a new question, any learner striving to
be trustworthy should not contradict its previous answers.
It should not answer green to a new question about an apple
it has just identiﬁed as red.

For each question-answer pair (q, a), we deﬁne a set
Eq = q1, q2, . . . , qn of entailed questions, the answers to

GQA	STRUCTURAL	TYPES

GQA	SEMANTIC	TYPES

GQA	SEMANTIC	STEPS

query
53%

choose

12%

logical

10%

compare

3%

verify
22%

object
11%

global

3%

category

6%

attribute

28%

relation

52%

4+

1

8%

6%

3

44%

2

42%

Question	Distribution	by	#	words

VQA

V7W

CLEVR-Humans

CLEVR

GQA

y
c
n
e
u
q
e
r
F

0.4

0.3

0.2

0.1

0

0

5

10

15

20

25

30

Number	of	words

Figure 6: Top: Dataset statistics, partitioned into structural types,
semantic types, and the number of reasoning steps. Bottom: VQA
datasets question length distribution.

which can be unambiguously inferred given (q, a). For in-
stance, given the question-answer pair Is there a red apple
to the left of the white plate? yes, we can infer the answers
to questions such as Is the plate to the right of the apple?,
Is there a red fruit to the left of the plate?, What is the white
thing to the right of the apple?, etc. For each question q in
Q – the set of questions the model answered correctly, we
measure the model’s accuracy over the entailed questions
Eq and then average these scores across all questions in Q.
We see that while people have exceptional consistency
of 98.4%, even the best models are inconsistent in about 1
out of 5 questions, and models such as LSTM contradict
themselves almost half the time. Achieving high consis-
tency may require deeper understanding of the question se-
mantics in the context of the image, and, in contrast with
accuracy, is more robust against educated guesses as it in-
spects connections between related questions, and thus may
serve as a better measure of models’ true visual understand-
ing skills.

Validity and Plausibility. The validity metric checks
whether a given answer is in the question scope, e.g. re-
sponding some color to a color question. The plausibility
score goes a step further, measuring whether the answer
is reasonable, or makes sense, given the question (e.g. ele-
phant usually do not eat, say, pizza). Speciﬁcally, we check
whether the answer occurs at least once in relation with
the question’s subject, across the whole dataset. Thus, we
consider e.g., red and green as plausible apple colors and,
conversely, purple as implausible.6 The experiments show
that models fail to respond with plausible or even valid an-
swers at least 5–15% of the times, indicating limited com-

5To evaluate human performance, we used Amazon Mechanical Turk
to collect human responses for 4000 random questions, taking the majority
over 5 answers per question.

6While the plausibility metric may not be fully precise especially for
infrequent objects due to potential data scarcity issues, it may provide a
good sense of the general level of world knowledge the model has acquired.

6706

Metric
Open
Binary
Query
Compare
Choose
Logical
Verify
Global
Object
Attribute
Relation
Category
Distribution
Grounding
Validity
Plausibility
Consistency
Accuracy

Global Prior

Local Prior

16.52
42.99
16.52
35.59
17.45
50.32
53.40
24.70
49.96
34.89
22.88
15.26
130.86

-

89.02
75.34
51.78
28.93

16.99
47.53
16.99
41.91
26.58
50.11
58.80
20.19
54.00
42.67
20.16
17.31
21.56

-

84.44
84.42
54.34
31.31

CNN
1.74
36.05
1.55
36.34
0.85
47.18
47.02
8.64
47.33
22.66
11.60
3.56
19.99

-

35.78
34.84
62.40
17.82

31.80
63.26
31.80
56.62
61.40
62.05
67.00
56.57
75.90
50.91
39.45
37.49
7.46

LSTM CNN+LSTM BottomUp MAC
22.69
38.91
71.23
61.90
38.91
22.69
60.04
57.79
70.59
57.15
61.73
69.99
75.45
65.78
60.82
27.22
81.49
74.33
59.82
48.28
46.16
33.24
22.33
44.38
5.34
17.93
82.24
96.16
84.48
81.59
54.06

34.83
66.64
34.83
56.32
66.56
64.03
71.45
60.29
78.45
53.88
42.84
41.18
5.98
78.47
96.18
84.57
78.71
49.74

96.02
84.25
74.57
46.55

96.39
87.30
68.68
41.07

-

-

Humans

87.4
91.2
87.4
93.1
94.3
88.5
90.1
92.3
88.1
90.7
89.2
90.3

-
-

98.9
97.2
98.4
89.3

Table 1: Results for baselines and state-of-the-art models on the GQA dataset. All results refer to the test set. Models are evaluated for
overall accuracy as well as accuracy per type. In addition, they are evaluated by validity, plausibility, distribution, consistency, and when
possible, grounding metrics. Please refer to the text for further detail.

prehension of some questions. Given that these properties
are noticeable statistics of the dataset’s conditional answer
distribution, not even depending on the speciﬁc images, we
would expect a sound method to achieve higher scores.

Distribution. To get further insight into the extent to
which methods manage to model the conditional answer
distribution, we deﬁne the distribution metric, which mea-
sures the overall match between the true answer distribu-
tion and the model predicted distribution, using Chi-Square
statistic [18]. It allows us to see if the model predicts not
only the most common answers but also the less frequent
ones. Indeed, the experiments demonstrate that the leading
SOTA models score lower than the baselines (for this met-
ric, lower is better), indicating increased capacity in ﬁtting
more subtle trends of the dataset’s distribution.

Grounding. For attention-based models, the grounding
score checks whether the model attends to regions within
the image that are relevant to the question. For each dataset
instance, we deﬁne a pointer r to the visual region which
the question or answer refer to, and measure the model’s
visual attention (probability) over that region. This metric
allows us to evaluate the degree to which the model grounds
its reasoning in the image, rather than just making educated
guesses based on question priors or world tendencies.

Indeed, the models mostly attend to the relevant regions
in the image, with grounding scores of about 80%. To ver-
ify the reliability of the metric, we further perform exper-
iments with spatial features instead of the object-informed
ones used by BottomUp [4] and MAC [10], which lead to
a much lower 43% score, demonstrating that object-based
features provide models with better granularity for the task,
allowing them to focus on more pertinent regions than with
the coarser spatial features.

5. Conclusion

In this paper, we introduced the GQA dataset for real-
world visual reasoning and compositional question answer-
ing. We described the dataset generation process, provided
baseline experiments and deﬁned new measures to get more
insight into models’ behavior and performance. We believe
this benchmark can help drive VQA research in the right
directions of deeper semantic understanding, sound reason-
ing, enhanced robustness and improved consistency. A po-
tential avenue towards such goals may involve more inti-
mate integration between visual knowledge extraction and
question answering, two ﬂourishing ﬁelds that oftentimes
have been pursued independently. We strongly hope that
GQA will motivate and support the development of more
compositional, interpretable and cogent reasoning models,
to advance research in scene understanding and visual ques-
tion answering.

6. Acknowledgments

We wish to thank Justin Johnson for discussions about
the early versions of this work, and Ross Girshick for his in-
spirational talk at the VQA workshop 2018. We thank Ran-
jay Krishna, Eric Cosatto, Alexandru Niculescu-Mizil and
the anonymous reviewers for helpful suggestions and com-
ments. Stanford University gratefully acknowledges Face-
book Inc., Samsung Electronics Co., Ltd., and the Defense
Advanced Research Projects Agency (DARPA) Communi-
cating with Computers (CwC) program under ARO prime
contract no. W911NF15-1-0462 for generously supporting
this work.

6707

References

[1] A. Agrawal, D. Batra, and D. Parikh. Analyzing the behav-
ior of visual question answering models. In EMNLP, pages
1955–1960, 2016. 1, 2

[2] A. Agrawal, D. Batra, D. Parikh, and A. Kembhavi. Don’t
just assume; look and answer: Overcoming priors for visual
question answering. In Proceedings of the IEEE Conference
on Computer Vision and Pattern Recognition (CVPR), pages
4971–4980, 2018. 1, 2

[3] A. Agrawal, J. Lu, S. Antol, M. Mitchell, C. L. Zitnick,
D. Parikh, and D. Batra. VQA: Visual question answer-
ing. International Journal of Computer Vision, 123(1):4–31,
2017. 1, 2, 4

[4] P. Anderson, X. He, C. Buehler, D. Teney, M. Johnson,
S. Gould, and L. Zhang. Bottom-up and top-down at-
tention for image captioning and VQA.
arXiv preprint
arXiv:1707.07998, 2017. 1, 7, 8

[5] J. Andreas, M. Rohrbach, T. Darrell, and D. Klein. Neural
module networks. In Proceedings of the IEEE Conference
on Computer Vision and Pattern Recognition (CVPR), pages
39–48, 2016. 1

[6] Y. Attali and M. Bar-Hillel. Guess where: The position
of correct answers in multiple-choice test items as a psy-
chometric variable. Journal of Educational Measurement,
40(2):109–128, 2003. 2

[7] A. Das, H. Agrawal, L. Zitnick, D. Parikh, and D. Batra.
Human attention in visual question answering: Do humans
and deep networks look at the same regions? Computer
Vision and Image Understanding, 163:90–100, 2017. 1, 2

[8] A. Fukui, D. H. Park, D. Yang, A. Rohrbach, T. Darrell,
and M. Rohrbach. Multimodal compact bilinear pooling for
visual question answering and visual grounding. Confer-
ence on Empirical Methods in Natural Language Processing
(EMNLP), 2016. 1

[9] Y. Goyal, T. Khot, D. Summers-Stay, D. Batra, and
D. Parikh. Making the V in VQA matter: Elevating the role
of image understanding in visual question answering. In Pro-
ceedings of the IEEE Conference on Computer Vision and
Pattern Recognition (CVPR), pages 6325–6334, 2017. 1, 2,
3, 6

[10] D. A. Hudson and C. D. Manning. Compositional attention
networks for machine reasoning. International Conference
for Representation Learning (ICLR), 2018. 1, 6, 7, 8

[11] A. Jabri, A. Joulin, and L. van der Maaten. Revisiting visual
In European conference on

question answering baselines.
computer vision, pages 727–739. Springer, 2016. 1

[12] U. Jain, Z. Zhang, and A. G. Schwing. Creativity: Generat-
ing diverse questions using variational autoencoders. In Pro-
ceedings of the IEEE Conference on Computer Vision and
Pattern Recognition (CVPR), pages 5415–5424, 2017. 3

[13] J. Johnson, B. Hariharan, L. van der Maaten, L. Fei-Fei,
C. L. Zitnick, and R. Girshick. Clevr: A diagnostic dataset
for compositional language and elementary visual reasoning.
In Proceedings of the IEEE Conference on Computer Vision
and Pattern Recognition (CVPR), pages 1988–1997, 2017.
1, 2, 3, 7

[14] J. Johnson, R. Krishna, M. Stark, L.-J. Li, D. Shamma,
M. Bernstein, and L. Fei-Fei.
Image retrieval using scene
graphs. In Proceedings of the IEEE Conference on Computer
Vision and Pattern Recognition (CVPR), pages 3668–3678,
2015. 3

[15] K. Kaﬂe and C. Kanan. An analysis of visual question an-
swering algorithms. In Computer Vision (ICCV), 2017 IEEE
International Conference on, pages 1983–1991. IEEE, 2017.
2, 3

[16] K. Kaﬂe and C. Kanan. Visual question answering: Datasets,
algorithms, and future challenges. Computer Vision and Im-
age Understanding, 163:3–20, 2017. 1, 2

[17] R. Krishna, Y. Zhu, O. Groth, J. Johnson, K. Hata, J. Kravitz,
S. Chen, Y. Kalantidis, L.-J. Li, D. A. Shamma, et al. Vi-
sual genome: Connecting language and vision using crowd-
sourced dense image annotations. International Journal of
Computer Vision, 123(1):32–73, 2017. 1, 2, 3, 4

[18] H. O. Lancaster and E. Seneta. Chi-square distribution. En-

cyclopedia of biostatistics, 2, 2005. 8

[19] Q. Li, Q. Tao, S. Joty, J. Cai, and J. Luo. VQA-E: Ex-
plaining, elaborating, and enhancing your answers for visual
questions. arXiv preprint arXiv:1803.07464, 2018. 2

[20] T.-Y. Lin, M. Maire, S. Belongie, J. Hays, P. Perona, D. Ra-
manan, P. Doll´ar, and C. L. Zitnick. Microsoft COCO: Com-
mon objects in context. In European conference on computer
vision, pages 740–755. Springer, 2014. 4

[21] A. Mahendru, V. Prabhu, A. Mohapatra, D. Batra, and
S. Lee. The promise of premise: Harnessing question
premises in visual question answering.
arXiv preprint
arXiv:1705.00601, 2017. 3

[22] M. Malinowski and M. Fritz. A multi-world approach to
question answering about real-world scenes based on uncer-
tain input. In Advances in neural information processing sys-
tems, pages 1682–1690, 2014. 3

[23] J. Millman, C. H. Bishop, and R. Ebel. An analysis of
test-wiseness. Educational and Psychological Measurement,
25(3):707–726, 1965. 2

[24] J. J. Mondak and B. C. Davis. Asked and answered: Knowl-
edge levels when we won’t take ‘don’t know’ for an answer.
Political Behavior, 23(3):199–224, 2001. 2

[25] N. Mostafazadeh, I. Misra, J. Devlin, M. Mitchell, X. He,
and L. Vanderwende. Generating natural questions about an
image. arXiv preprint arXiv:1603.06059, 2016. 3

[26] D. H. Park, L. A. Hendricks, Z. Akata, A. Rohrbach,
B. Schiele, T. Darrell, and M. Rohrbach. Multimodal expla-
nations: Justifying decisions and pointing to the evidence.
In Proceedings of the IEEE Conference on Computer Vision
and Pattern Recognition (CVPR), 2018. 2

[27] Y. Rubner, C. Tomasi, and L. J. Guibas. The earth mover’s
distance as a metric for image retrieval. International journal
of computer vision, 40(2):99–121, 2000. 6

[28] A. Suhr, S. Zhou, I. Zhang, H. Bai, and Y. Artzi. A corpus for
reasoning about natural language grounded in photographs.
arXiv preprint arXiv:1811.00491, 2018. 2

[29] D. Teney, P. Anderson, X. He, and A. van den Hengel. Tips
and tricks for visual question answering: Learnings from the
2017 challenge. arXiv preprint arXiv:1708.02711, 2017. 2

6708

[30] D. Teney, L. Liu, and A. van den Hengel.

Graph-
structured representations for visual question answering.
arXiv preprint, 2017. 2

[31] B. Thomee, D. A. Shamma, G. Friedland, B. Elizalde, K. Ni,
D. Poland, D. Borth, and L.-J. Li. Yfcc100m: The new data
in multimedia research. arXiv preprint arXiv:1503.01817,
2015. 4

[32] A. Torralba and A. A. Efros. Unbiased look at dataset bias.
In Proceedings of the IEEE Conference on Computer Vision
and Pattern Recognition (CVPR), pages 1521–1528. IEEE,
2011. 2

[33] Z. Yang, X. He, J. Gao, L. Deng, and A. Smola. Stacked
attention networks for image question answering.
In Pro-
ceedings of the IEEE Conference on Computer Vision and
Pattern Recognition (CVPR), pages 21–29, 2016. 1

[34] P. Zhang, Y. Goyal, D. Summers-Stay, D. Batra, and
D. Parikh. Yin and yang: Balancing and answering binary
visual questions.
In Proceedings of the IEEE Conference
on Computer Vision and Pattern Recognition (CVPR), pages
5014–5022, 2016. 1, 2

[35] S. Zhang, L. Qu, S. You, Z. Yang, and J. Zhang. Automatic
arXiv preprint

generation of grounded visual questions.
arXiv:1612.06530, 2016. 3

[36] Y. Zhu, O. Groth, M. Bernstein, and L. Fei-Fei. Visual7W:
Grounded question answering in images.
In Proceedings
of the IEEE Conference on Computer Vision and Pattern
Recognition (CVPR), pages 4995–5004, 2016. 1, 2, 3

6709

